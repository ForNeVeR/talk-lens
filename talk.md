Как мы разработали свой язык программирования
=============================================

Введение
--------

Почти каждый программист хоть раз в жизни задумывается о том, что неплохо бы
создать свой язык программирования. Мотивация у людей разная: кому-то не дают
покоя лавры создателей уже известных языков, кто-то жаждет исправить все-все
фатальные недостатки в том языке, на котором пишет сейчас, а кто-то, как я,
просто хочет повеселиться.

И вот, как-то раз нам с товарищем стало очень скучно, и поэтому мы решили взять
и написать свой язык программирования. Время было очень тёмное, и _некому было
нас остановить_. Поэтому мы взяли и написали свой язык программирования!

LENS
----

Язык, который мы разработали, называется **LENS**: Language for Embeddable .NET
Scripting.

Сегодня я расскажу вам, как можно разработать свой собственный язык, какие
усилия на это потребуются

Инструментарий
--------------

## Основные элементы экосистемы языков программирования

Обычно разработка языка программирования

- лексер
- парсер
- компилятор
- стандартная библиотека
- среда исполнения
- инструменты распространения кода (пакеты, библиотеки, репозитории)
- инструменты разработки на языке (редакторы, IDE, отладчики)

- рассказать про основные развитые экосистемы (.NET, JVM, LLVM) и чем они
  отличаются от нативного кода

- пара слов о том, почему выбрали CLR

## Разбор текста языка

- рассказать про разработку грамматики (EBNF)
- рассказать историю про парсер на FParsec и почему решили его переписать
- тут же добавить примеры синтаксиса

## Вывод типов

- рассказать про Хиндли-Милнера в двух словах, показать функцию расстояния между
  типами и где она используется

## Процесс компиляции

- рассказать про то, как работают API `Reflection.Emit` и что можно делать с
  получившейся сборкой
- кратко описать, как компиляция работает в LENS (каждый узел AST знает, как
  себя скомпилировать)

## Процесс встраивания

- показать API для встраивания, рассказать, зачем это нужно

## Примеры из практики

История, как мне пригодился разработанный язык (и общие слова про то, в каких
областях можно применять встраиваемые языки программирования).

## Выводы

- разработать свой язык программирования может каждый, с современными
  инструментами это несложно
- если хочется сразу перейти к синтаксису/фичам — очень удобно базировать язык
  на существующей высокоуровневой виртуальной машине (CLI, JVM, Parrot, MoarVM
  etc.)
- иногда вещи, которые кажутся бессмысленными, могут пригодиться
- если хочется больше работать над семантикой языка, имеет смысл не делать
  сложного синтаксиса, а базироваться на S-выражениях (как в LISP)
